{"version":3,"sources":["../app.js"],"names":["createError","require","express","path","cookieParser","logger","scheduler","app","locals","moment","set","join","__dirname","use","json","urlencoded","extended","req","res","next","header","indexRouter","usersRouter","teamsRouter","leavesRouter","err","message","error","get","status","render","start","module","exports"],"mappings":";;;;AAOA;;AACA;;AACA;;AACA;;AAVA,IAAIA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAII,MAAM,GAAGJ,OAAO,CAAC,QAAD,CAApB,C,CAEA;;;AAKA,IAAMK,SAAS,GAAGL,OAAO,CAAC,aAAD,CAAzB;;AACA,IAAIM,GAAG,GAAGL,OAAO,EAAjB;AACAK,GAAG,CAACC,MAAJ,CAAWC,MAAX,GAAoBR,OAAO,CAAC,QAAD,CAA3B,C,CACA;;AACAM,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiBP,IAAI,CAACQ,IAAL,CAAUC,SAAV,EAAqB,OAArB,CAAjB;AACAL,GAAG,CAACG,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AAEAH,GAAG,CAACM,GAAJ,CAAQR,MAAM,CAAC,KAAD,CAAd;AACAE,GAAG,CAACM,GAAJ,CAAQX,OAAO,CAACY,IAAR,EAAR;AACAP,GAAG,CAACM,GAAJ,CAAQX,OAAO,CAACa,UAAR,CAAmB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAnB,CAAR;AACAT,GAAG,CAACM,GAAJ,CAAQT,YAAY,EAApB;AACAG,GAAG,CAACM,GAAJ,CAAQX,OAAO,UAAP,CAAeC,IAAI,CAACQ,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;AACAL,GAAG,CAACM,GAAJ,CAAQ,UAAUI,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChCD,EAAAA,GAAG,CAACE,MAAJ,CAAW,6BAAX,EAA0C,uBAA1C;AACAF,EAAAA,GAAG,CAACE,MAAJ,CAAW,8BAAX,EAA2C,gDAA3C;AACAD,EAAAA,IAAI;AACL,CAJD;AAKAZ,GAAG,CAACM,GAAJ,CAAQ,GAAR,EAAaQ,iBAAb;AACAd,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsBS,iBAAtB;AACAf,GAAG,CAACM,GAAJ,CAAQ,YAAR,EAAsBU,iBAAtB;AACAhB,GAAG,CAACM,GAAJ,CAAQ,aAAR,EAAuBW,kBAAvB,E,CAEA;;AACAjB,GAAG,CAACM,GAAJ,CAAQ,UAASI,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BA,EAAAA,IAAI,CAACnB,WAAW,CAAC,GAAD,CAAZ,CAAJ;AACD,CAFD,E,CAIA;;AACAO,GAAG,CAACM,GAAJ,CAAQ,UAASY,GAAT,EAAcR,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACpC;AACAD,EAAAA,GAAG,CAACV,MAAJ,CAAWkB,OAAX,GAAqBD,GAAG,CAACC,OAAzB;AACAR,EAAAA,GAAG,CAACV,MAAJ,CAAWmB,KAAX,GAAmBV,GAAG,CAACV,GAAJ,CAAQqB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCH,GAAvC,GAA6C,EAAhE,CAHoC,CAKpC;;AACAP,EAAAA,GAAG,CAACW,MAAJ,CAAWJ,GAAG,CAACI,MAAJ,IAAc,GAAzB;AACAX,EAAAA,GAAG,CAACY,MAAJ,CAAW,OAAX;AACD,CARD;AASAxB,SAAS,CAACyB,KAAV;AACAC,MAAM,CAACC,OAAP,GAAiB1B,GAAjB","sourcesContent":["var createError = require('http-errors');\nvar express = require('express');\nvar path = require('path');\nvar cookieParser = require('cookie-parser');\nvar logger = require('morgan');\n\n// var indexRouter = require('./routes/index');\nimport usersRouter from './routes/users';\nimport indexRouter from './routes/index';\nimport teamsRouter from './routes/teams';\nimport leavesRouter from './routes/leaves';\nconst scheduler = require('./scheduler');\nvar app = express();\napp.locals.moment = require('moment');\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\n\napp.use(logger('dev'));\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use(express.static(path.join(__dirname, 'public')));\napp.use(function (req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"http://localhost:3001\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  next();\n});\napp.use('/', indexRouter);\napp.use('/api/users', usersRouter);\napp.use('/api/teams', teamsRouter);\napp.use('/api/leaves', leavesRouter);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  next(createError(404));\n});\n\n// error handler\napp.use(function(err, req, res, next) {\n  // set locals, only providing error in development\n  res.locals.message = err.message;\n  res.locals.error = req.app.get('env') === 'development' ? err : {};\n\n  // render the error page\n  res.status(err.status || 500);\n  res.render('error');\n});\nscheduler.start();\nmodule.exports = app;\n"],"file":"app.js"}