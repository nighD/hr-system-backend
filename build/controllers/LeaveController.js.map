{"version":3,"sources":["../../controllers/LeaveController.js"],"names":["util","Util","LeaveController","req","res","LeaveService","getAllLeaves","allLeaves","length","setSuccess","send","setError","newLeave","body","console","log","addLeave","createdLeave","message","getLeaveSetting","newLeaveSetting","addLeaveSetting","alteredLeave","id","params","updateLeave","getALeave","theLeave","status","getALeaveStatus","Number","deleteLeave","LeaveToDelete"],"mappings":"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","sourcesContent":["import LeaveService from '../services/LeaveService';\nimport Util from '../utils/Utils';\n\nconst util = new Util();\n\nexport default class LeaveController {\n  static async getAllLeaves(req, res) {\n    try {\n      const allLeaves = await LeaveService.getAllLeaves();\n      if (allLeaves.length > 0) {\n        util.setSuccess(200, 'Leaves retrieved', allLeaves);\n      } else {\n        util.setSuccess(200, 'No Leave found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n\n  static async addLeave(req, res) {\n    // if (!req.body.emp_lname || !req.body.emp_fname || !req.body.emp_gender || !req.body.emp_fname || !req.body.emp_gender) {\n    //   util.setError(400, 'Please provide complete details');\n    //   return util.send(res);\n    // }\n    const newLeave = req.body;\n    console.log(newLeave);\n    try {\n      const createdLeave = await LeaveService.addLeave(newLeave);\n      util.setSuccess(201, 'Leave Added!', createdLeave);\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(res);\n    }\n  }\n  static async getLeaveSetting(req, res) {\n    try {\n      const allLeaves = await LeaveService.getLeaveSetting();\n      if (allLeaves.length > 0) {\n        util.setSuccess(200, 'Leaves retrieved', allLeaves);\n      } else {\n        util.setSuccess(200, 'No Leave found');\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n  static async addLeaveSetting(req, res) {\n    // if (!req.body.emp_lname || !req.body.emp_fname || !req.body.emp_gender || !req.body.emp_fname || !req.body.emp_gender) {\n    //   util.setError(400, 'Please provide complete details');\n    //   return util.send(res);\n    // }\n    const newLeaveSetting = req.body;\n    console.log(newLeaveSetting);\n    try {\n      const createdLeave = await LeaveService.addLeaveSetting(newLeaveSetting);\n      util.setSuccess(201, 'Leave Added!', createdLeave);\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error.message);\n      return util.send(res);\n    }\n  }\n  static async updatedLeave(req, res) {\n    const alteredLeave = req.body;\n    const  id  = req.params.id;\n    if (!(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n    try {\n      const updateLeave = await LeaveService.updateLeave(id, alteredLeave);\n      if (!updateLeave) {\n        util.setError(404, `Cannot find Leave with the id: ${id}`);\n      } else {\n        util.setSuccess(200, 'Leave updated', updateLeave);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n\n  static async getALeave(req, res) {\n    const  id  = req.params.id;\n    console.log(req.params.id);\n    console.log(id);\n    if (!(id)) {\n      util.setError(400, 'Please input a valid numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const theLeave = await LeaveService.getALeave(id);\n\n      if (!theLeave) {\n        util.setError(404, `Cannot find Leave with the id ${id}`);\n      } else {\n        util.setSuccess(200, 'Found User', theLeave);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n  \n  static async getALeaveStatus(req, res) {\n    const status  = req.params.status;\n    console.log(req.params);\n    console.log(status);\n    if (!(status)) {\n      util.setError(400, 'Please input a valid string value');\n      return util.send(res);\n    }\n\n    try {\n      const theLeave = await LeaveService.getALeaveStatus(status);\n\n      if (!theLeave) {\n        util.setError(404, `Cannot find Leave with the status ${status}`);\n      } else {\n        util.setSuccess(200, 'Found Leave', theLeave);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(404, error);\n      return util.send(res);\n    }\n  }\n  static async deleteLeave(req, res) {\n    const { id } = req.params;\n\n    if (!Number(id)) {\n      util.setError(400, 'Please provide a numeric value');\n      return util.send(res);\n    }\n\n    try {\n      const LeaveToDelete = await LeaveService.deleteLeave(id);\n\n      if (LeaveToDelete) {\n        util.setSuccess(200, 'Leave deleted');\n      } else {\n        util.setError(404, `Leave with the id ${id} cannot be found`);\n      }\n      return util.send(res);\n    } catch (error) {\n      util.setError(400, error);\n      return util.send(res);\n    }\n  }\n}\n"],"file":"LeaveController.js"}